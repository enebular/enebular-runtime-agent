<script type="text/javascript">
  RED.nodes.registerType('analogin', {
    category: 'EEA',
    color: '#91b122',
    defaults: {
      pinName: { value: 'A0' },
      valueType: { value: 'int' },
      name: { value: '' }
    },
    inputs: 1,
    outputs: 1,
    icon: '../icons/analog.png',
    label: function () {
      return this.name || 'analogin';
    }
  });
</script>

<script type="text/x-red" data-template-name="analogin">
    <div class="form-row">
      <label for="node-input-pinname"><i class="fa fa-bolt"></i> pinName</label>
      <select type="text" id="node-input-pinName">
        <option value="A0">A0</option>
        <option value="A1">A1</option>
        <option value="A2">A2</option>
        <option value="A3">A3</option>
        <option value="A4">A4</option>
        <option value="A5">A5</option>
      </select>
    </div>
    <div class="form-row">
      <label for="node-input-valueType"><i class="fa fa-share-square-o"></i> valueType</label>
      <select type="text" id="node-input-valueType">
          <option value="int">int</option>
        <option value="float">float</option>
        <option value="voltage">voltage</option>
      </select>
    </div>
    <div class="form-row">
      <label for="node-input-name"><i class="icon-tag"></i> Name</label>
      <input type="text" id="node-input-name" placeholder="Name">
    </div>
</script>

<script type="text/x-red" data-help-name="analogin">

  <p>ADコンバータの値を取得するノードです。</p>

  <p>以下の値を代入します。※xxxには取得した値が入ります。</p>
  
  <p><code>{"payload": xxx, "analogin": xxx, "topic": pinName}</code></p>

  <p>enebular の editor上でも同じ形式で値が代入されますが、payload と analogin において valueType の値によって入力される値が異なります。</p>

<ul>
  <li>int : 65535</li>
  <li>float : 1</li>
  <li>voltage : 3.3</li>
</ul>

  <h3>Properties</h3>
  <ul>
    <li><code>pinName</code>： 制御対象のピン名を指定</li>
    <li><code>value</code>: ADコンバータの値の出力の形式設定</li>
    <ul>
      <li><code>int</code>: 0 - 65535 の範囲で出力</li>
      <li><code>float</code>: 0.0000 - 1.0000 の範囲で出力</li>
      <li><code>voltage</code>: 0.0000 - 3.3000 の範囲で出力</li>
   </ul>
 </ul>    
  </script>